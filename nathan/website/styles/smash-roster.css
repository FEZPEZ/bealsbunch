/* ==========================================
   CSS VARIABLES & CONFIGURATION
   ========================================== */

:root {
    /* Colors */
    --roster-bg-dark: #1e1e1e;
    --roster-text-color: white;
    --roster-text-shadow-color: black;
    --roster-border-color: #1e1e1e;
    --roster-hover-border-color: red;
    --roster-hover-pulse-color: lightcoral;
    
    /* Dimensions */
    --roster-container-width: calc(100% - 200px);
    --roster-box-width-percent: 7.6923%;
    --roster-box-aspect-ratio: 5 / 3;
    --roster-border-width: 1px;
    --roster-bottom-border-width: 13px;
    --roster-hover-border-width: 5px;
    --floating-token-size: 50px;
    
    /* Typography */
    --roster-font-family: "PT Sans", sans-serif;
    --roster-font-size: 0.95em;
    --roster-font-weight: bold;
    --roster-line-height: 1.1;
    
    /* Text shadow offsets */
    --text-shadow-offset: 1px;
    
    /* Spacing */
    --roster-text-padding-v: 1px;
    --roster-text-padding-h: 2px;
    --roster-row-gap: 0;
    
    /* Animation durations */
    --pop-animation-duration: 70ms;
    --pulse-animation-duration: 1s;
    --token-transition-duration: 0.2s;
    
    /* Animation scales */
    --pop-animation-scale: 1.1;
    
    /* Z-index layers */
    --z-index-bg: -1;
    --z-index-hover-border: 999;
    --z-index-floating-token: 99999;
    
    /* File paths */
    --cursor-path: url("../assets/smash-roster/smash.cur");
    --roster-bg-image: url("../assets/bg/roster-bg.gif");
}

/* ==========================================
   MAIN WRAPPER & CONTAINER
   ========================================== */

#dream-roster-wrapper {
    background: var(--roster-bg-dark);
    width: 100%;
    cursor: var(--cursor-path), auto;
}

#dream-smash-roster {
    background-image: var(--roster-bg-image);
    background-size: auto 100%;
    width: var(--roster-container-width);
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--roster-row-gap);
}

#dream-roster-spacer {
    background-color: var(--roster-bg-dark);
    height: 10px;
}

/* ==========================================
   ROSTER GRID LAYOUT
   ========================================== */

.roster-row {
    display: flex;
    justify-content: center;
    flex-wrap: nowrap;
}

.roster-box {
    width: var(--roster-box-width-percent);
    aspect-ratio: var(--roster-box-aspect-ratio);
    position: relative;
    border: var(--roster-border-width) solid var(--roster-border-color);
    border-bottom: var(--roster-bottom-border-width) solid var(--roster-border-color);
    overflow: visible;
}

.roster-img {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
}

/* ==========================================
   TEXT LABELS
   ========================================== */

.roster-text-inner {
    display: inline-block;
    text-align: center;
}

/* Overlapping text on top of bottom border */
.roster-text {
    text-align: center;
    position: absolute;
    bottom: calc(-1 * var(--roster-bottom-border-width));
    left: 0;
    width: 100%;
    padding: var(--roster-text-padding-v) var(--roster-text-padding-h);
    font-family: var(--roster-font-family);
    font-weight: var(--roster-font-weight);
    font-size: var(--roster-font-size);
    line-height: var(--roster-line-height);
    white-space: nowrap;
    color: var(--roster-text-color);
    text-shadow:
        calc(-1 * var(--text-shadow-offset)) calc(-1 * var(--text-shadow-offset)) 0 var(--roster-text-shadow-color),
        var(--text-shadow-offset) calc(-1 * var(--text-shadow-offset)) 0 var(--roster-text-shadow-color),
        calc(-1 * var(--text-shadow-offset)) var(--text-shadow-offset) 0 var(--roster-text-shadow-color),
        var(--text-shadow-offset) var(--text-shadow-offset) 0 var(--roster-text-shadow-color);
    pointer-events: none;
}

/* ==========================================
   TUNNEL SECTION STYLES
   ========================================== */

.tunnel-section {
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 100vh; /* or whatever height this section needs */
}

.bg-tunnel {
    position: absolute;
    top: 0; 
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-index-bg);
    display: block;
}

/* ==========================================
   FLOATING TOKEN
   ========================================== */

#floating-token {
    position: absolute;
    pointer-events: none;
    display: none;
    width: var(--floating-token-size);
    height: var(--floating-token-size);
    z-index: var(--z-index-floating-token);
    transition: transform var(--token-transition-duration) ease;
}

/* ==========================================
   ANIMATIONS
   ========================================== */

.roster-box.pop {
    animation: popBox var(--pop-animation-duration) ease-in-out;
}

@keyframes popBox {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(var(--pop-animation-scale));
    }
    100% {
        transform: scale(1);
    }
}

@keyframes redWhitePulse {
    0%, 100% {
        border-color: var(--roster-hover-border-color);
    }
    50% {
        border-color: var(--roster-hover-pulse-color);
    }
}

/* ==========================================
   HOVER & SELECTED STATES
   ========================================== */

.roster-box.hovered::after,
.roster-box.selected::after {
    content: '';
    position: absolute;
    top: calc(-1 * var(--roster-border-width));
    left: calc(-1 * var(--roster-border-width));
    right: calc(-1 * var(--roster-border-width));
    bottom: calc(-1 * var(--roster-bottom-border-width));
    border: var(--roster-hover-border-width) solid var(--roster-hover-border-color);
    pointer-events: none;
    z-index: var(--z-index-hover-border);
    animation: redWhitePulse var(--pulse-animation-duration) infinite ease-in-out;
}

